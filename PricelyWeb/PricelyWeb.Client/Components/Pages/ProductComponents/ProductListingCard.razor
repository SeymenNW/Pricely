@page "/card"
@using Pricely.Libraries.Services.Models.PriceRunner

<MudCard Class="@CardFullTailwind">
    <img class="mx-auto h-40 w-auto rounded-[10px]" src="@ResultProduct.ImageUrl" alt="Produkt Billede.." />
    
    <MudCardContent Class="mt-4 flex flex-col items-center">
        <MudText Class="text-base font-semibold">PriceRunner</MudText>
        <MudText Color="Color.Primary" Class="mt-1 h-10 max-w-full overflow-x-auto whitespace-nowrap text-center text-lg font-medium">
            @ResultProduct.Name
        </MudText>
        <MudText Color="Color.Primary" Class="mt-2 text-xl font-normal">@ResultProduct.LowestPrice</MudText>
        <MudButton Href="@DetailsUrl">SE PRODUKT</MudButton>
    </MudCardContent>
</MudCard>

@code {

    [Parameter]
    public PriceRunnerSearchResultProduct ResultProduct { get; set; }

    [CascadingParameter(Name = "IsDarkMode")]
    public bool IsDarkMode { get; set; }

    private string CardBackground => IsDarkMode ? "bg-[#292a2d]" : "bg-[#f7f7fa]"; 

    private string DetailsUrl => $"/pr/details/{ResultProduct.ProductCategoryNum}/{ResultProduct.Id}";

    private string CardFullTailwind => $"border-1 mb-4 flex h-96 w-72 flex-col justify-between rounded-3xl  p-6 text-center {CardBackground}";

}
